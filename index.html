<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Report Card System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <!-- Beautiful Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Nunito:wght@200;300;400;500;600;700;800;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Comfortaa:wght@300;400;500;600;700&family=Quicksand:wght@300;400;500;600;700&family=Raleway:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        /* Beautiful Font Families */
        body {
            font-family: 'Nunito', 'Poppins', sans-serif;
            font-weight: 500;
        }
        
        .font-primary {
            font-family: 'Fredoka', 'Nunito', cursive;
            font-weight: 600;
        }
        
        .font-heading {
            font-family: 'Comfortaa', 'Poppins', cursive;
            font-weight: 700;
            letter-spacing: 2px;
        }
        
        .font-elegant {
            font-family: 'Raleway', 'Poppins', sans-serif;
            font-weight: 600;
            letter-spacing: 1px;
        }
        
        .font-playful {
            font-family: 'Quicksand', 'Nunito', sans-serif;
            font-weight: 600;
        }
        
        .font-display {
            font-family: 'Fredoka', 'Comfortaa', cursive;
            font-weight: 700;
            letter-spacing: 3px;
        }
        
        /* Enhanced Text Shadows for Better Readability */
        .text-shadow-soft {
            text-shadow: 2px 2px 8px rgba(0,0,0,0.1);
        }
        
        .text-shadow-bold {
            text-shadow: 3px 3px 10px rgba(0,0,0,0.3);
        }
        
        .text-shadow-glow {
            text-shadow: 0 0 20px rgba(255,255,255,0.8), 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        /* Fun Animations for Kids */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-30px); }
            60% { transform: translateY(-15px); }
        }
        
        @keyframes wiggle {
            0%, 7% { transform: rotateZ(0); }
            15% { transform: rotateZ(-15deg); }
            20% { transform: rotateZ(10deg); }
            25% { transform: rotateZ(-10deg); }
            30% { transform: rotateZ(6deg); }
            35% { transform: rotateZ(-4deg); }
            40%, 100% { transform: rotateZ(0); }
        }
        
        @keyframes rainbow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes fadeInUp {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        
        @keyframes colorShift {
            0% { filter: hue-rotate(0deg); }
            25% { filter: hue-rotate(90deg); }
            50% { filter: hue-rotate(180deg); }
            75% { filter: hue-rotate(270deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        /* School Box Animations */
        @keyframes schoolBoxFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            25% { transform: translateY(-8px) scale(1.02); }
            50% { transform: translateY(-12px) scale(1.03); }
            75% { transform: translateY(-6px) scale(1.01); }
        }
        
        @keyframes schoolBoxGlow {
            0%, 100% { 
                box-shadow: 0 20px 50px rgba(0,0,0,0.4), 0 0 0 6px #ffd700, inset 0 0 30px rgba(255,215,0,0.2);
            }
            50% { 
                box-shadow: 0 25px 60px rgba(0,0,0,0.5), 0 0 0 8px #ffd700, 0 0 40px rgba(255,215,0,0.6), inset 0 0 40px rgba(255,215,0,0.3);
            }
        }
        
        /* Floating Elements Around Box */
        @keyframes floatAround1 {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(10px, -15px) rotate(90deg); }
            50% { transform: translate(-5px, -25px) rotate(180deg); }
            75% { transform: translate(-15px, -10px) rotate(270deg); }
        }
        
        @keyframes floatAround2 {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(-12px, 8px) rotate(-90deg); }
            50% { transform: translate(8px, 20px) rotate(-180deg); }
            75% { transform: translate(18px, 5px) rotate(-270deg); }
        }
        
        @keyframes floatAround3 {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(15px, -8px) rotate(120deg); }
            66% { transform: translate(-8px, 12px) rotate(240deg); }
        }
        
        @keyframes floatAround4 {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            30% { transform: translate(-10px, -12px) rotate(-108deg); }
            60% { transform: translate(12px, -8px) rotate(-216deg); }
        }
        
        /* Sparkle Rotation */
        @keyframes sparkleRotate {
            0% { transform: rotate(0deg) scale(1); opacity: 0.8; }
            25% { transform: rotate(90deg) scale(1.2); opacity: 1; }
            50% { transform: rotate(180deg) scale(0.8); opacity: 0.6; }
            75% { transform: rotate(270deg) scale(1.1); opacity: 0.9; }
            100% { transform: rotate(360deg) scale(1); opacity: 0.8; }
        }
        
        /* Text Color Shifting Animation */
        @keyframes textColorShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Special Celebration Animations for High Achievers (85%+) */
        @keyframes celebration {
            0%, 100% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.1) rotate(-5deg); }
            50% { transform: scale(1.2) rotate(5deg); }
            75% { transform: scale(1.1) rotate(-3deg); }
        }
        
        @keyframes confetti {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        
        @keyframes starBurst {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.5) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }
        
        @keyframes goldGlow {
            0%, 100% { box-shadow: 0 0 20px #ffd700, 0 0 40px #ffd700, 0 0 60px #ffd700; }
            50% { box-shadow: 0 0 40px #ffd700, 0 0 80px #ffd700, 0 0 120px #ffd700; }
        }
        
        @keyframes fireworks {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }
        
        @keyframes shower {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        .shower-drop {
            position: absolute;
            width: 8px;
            height: 20px;
            background: linear-gradient(to bottom, #4facfe 0%, #00f2fe 100%);
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            animation: shower 2s linear infinite;
            opacity: 0.8;
        }
        
        @keyframes trophy-bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0) scale(1); }
            40% { transform: translateY(-30px) scale(1.1); }
            60% { transform: translateY(-15px) scale(1.05); }
        }
        
        /* High Achiever Classes */
        .celebration { animation: celebration 2s ease-in-out infinite; }
        .gold-glow { animation: goldGlow 2s ease-in-out infinite; }
        .trophy-bounce { animation: trophy-bounce 2s ease-in-out infinite; }
        
        /* Confetti Container */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            overflow: hidden;
        }
        
        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti 3s linear infinite;
        }
        
        .star-burst {
            position: absolute;
            font-size: 30px;
            animation: starBurst 2s ease-out infinite;
        }
        
        .firework {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            animation: fireworks 2s ease-out infinite;
        }
        
        /* Fun Classes */
        .bounce { animation: bounce 2s infinite; }
        .wiggle { animation: wiggle 2s ease-in-out infinite; }
        .float { animation: float 3s ease-in-out infinite; }
        .pulse { animation: pulse 2s ease-in-out infinite; }
        .slide-in { animation: slideIn 0.8s ease-out; }
        .fade-in-up { animation: fadeInUp 0.6s ease-out; }
        .sparkle { animation: sparkle 1.5s ease-in-out infinite; }
        .color-shift { animation: colorShift 4s linear infinite; }
        
        /* Rainbow Background */
        .rainbow-bg {
            background: linear-gradient(-45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c, #e63946, #f77f00, #fcbf49);
            background-size: 400% 400%;
            animation: rainbow 4s ease infinite;
        }
        
        /* Magical Gradient Buttons */
        .magic-button {
            background: linear-gradient(45deg, #ff6b35, #f7931e, #06d6a0, #118ab2, #e63946, #f77f00);
            background-size: 300% 300%;
            animation: rainbow 3s ease infinite;
            border: none;
            color: white;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .magic-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 12px 25px rgba(0,0,0,0.3);
        }
        
        /* Cute Cards */
        .cute-card {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #06d6a0 100%);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
            border: 3px solid #fff;
        }
        
        .cute-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        /* Fun Messages */
        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideIn 0.5s ease-out, pulse 2s ease-in-out infinite;
            font-weight: bold;
            border: 3px solid #fff;
        }
        
        .error-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            color: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: slideIn 0.5s ease-out, wiggle 1s ease-in-out;
            font-weight: bold;
            border: 3px solid #fff;
        }


        
        /* Sparkle Effects */
        .sparkle-container {
            position: relative;
            overflow: hidden;
        }
        
        .sparkle-container::before,
        .sparkle-container::after {
            content: 'âœ¨';
            position: absolute;
            font-size: 20px;
            animation: sparkle 2s ease-in-out infinite;
        }
        
        .sparkle-container::before {
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .sparkle-container::after {
            top: 70%;
            right: 10%;
            animation-delay: 1s;
        }
        
        /* Mobile-First Responsive Design */
        @media (max-width: 640px) {
            body {
                font-size: 14px;
            }
            
            .container {
                padding-left: 8px;
                padding-right: 8px;
            }
            
            /* Mobile Navigation */
            .mobile-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 10px;
                z-index: 1000;
                border-top: 3px solid #fff;
                box-shadow: 0 -5px 20px rgba(0,0,0,0.3);
            }
            
            .mobile-nav button {
                width: 100%;
                margin: 5px 0;
                padding: 12px;
                font-size: 14px;
                border-radius: 15px;
            }
            
            /* Mobile Cards */
            .mobile-card {
                margin: 8px;
                padding: 16px;
                border-radius: 20px;
                box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            }
            
            /* Mobile Table */
            .mobile-table {
                display: block;
                width: 100%;
                overflow-x: auto;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch;
            }
            
            .mobile-table table {
                min-width: 100%;
                font-size: 12px;
            }
            
            .mobile-table th,
            .mobile-table td {
                padding: 8px 4px;
                text-align: center;
                min-width: 80px;
            }
            
            /* Mobile Form */
            .mobile-form input,
            .mobile-form select {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 12px;
                border-radius: 12px;
                width: 100%;
                margin-bottom: 10px;
            }
            
            /* Mobile Grid */
            .mobile-grid {
                display: grid;
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            @media (min-width: 480px) {
                .mobile-grid {
                    grid-template-columns: 1fr 1fr;
                }
            }
            
            /* Touch-friendly buttons */
            .touch-button {
                min-height: 44px;
                min-width: 44px;
                padding: 12px 16px;
                font-size: 14px;
                border-radius: 12px;
                touch-action: manipulation;
            }
            
            /* Mobile animations - reduced for performance */
            .mobile-animate {
                animation-duration: 1s;
                animation-iteration-count: 1;
            }
            
            /* Simplified celebrations on mobile */
            .confetti-container {
                opacity: 0.7;
            }
            
            .confetti-piece,
            .star-burst,
            .firework,
            .shower-drop {
                animation-duration: 1.5s;
                opacity: 0.6;
            }
            
            /* Mobile-specific spacing */
            .mobile-spacing {
                margin: 8px 0;
                padding: 8px;
            }
            
            /* Mobile text sizes */
            .mobile-text-sm { font-size: 12px; }
            .mobile-text-base { font-size: 14px; }
            .mobile-text-lg { font-size: 16px; }
            .mobile-text-xl { font-size: 18px; }
            .mobile-text-2xl { font-size: 20px; }
            .mobile-text-3xl { font-size: 24px; }
        }
        
        /* Tablet styles */
        @media (min-width: 641px) and (max-width: 1024px) {
            .tablet-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 16px;
            }
            
            .tablet-text {
                font-size: 16px;
            }
        }
        
        /* Fun Table Styles - Enhanced for Mobile */
        .fun-table {
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            width: 100%;
            font-size: 16px;
        }
        
        @media (min-width: 640px) {
            .fun-table {
                border-radius: 20px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                font-size: 18px;
            }
        }
        
        .fun-table th {
            background: linear-gradient(45deg, #ff6b35, #f7931e, #06d6a0);
            color: white;
            font-size: 16px;
            padding: 12px 8px;
            font-weight: bold;
            text-align: center;
        }
        
        @media (min-width: 480px) {
            .fun-table th {
                font-size: 18px;
                padding: 14px 10px;
            }
        }
        
        @media (min-width: 640px) {
            .fun-table th {
                font-size: 22px;
                padding: 18px 16px;
            }
        }
        
        @media (min-width: 1024px) {
            .fun-table th {
                font-size: 26px;
                padding: 28px;
            }
        }
        
        .fun-table td {
            padding: 10px 8px;
            transition: all 0.3s ease;
            border-bottom: 1px solid #f0f0f0;
            font-size: 15px;
            text-align: center;
        }
        
        @media (min-width: 480px) {
            .fun-table td {
                padding: 12px 10px;
                font-size: 16px;
                border-bottom: 2px solid #f0f0f0;
            }
        }
        
        @media (min-width: 640px) {
            .fun-table td {
                padding: 16px 12px;
                font-size: 18px;
            }
        }
        
        @media (min-width: 1024px) {
            .fun-table td {
                padding: 24px;
                font-size: 22px;
            }
        }
        
        .fun-table tr:hover td {
            background: linear-gradient(45deg, #ffeaa7, #fab1a0);
        }
        
        @media (min-width: 640px) {
            .fun-table tr:hover td {
                transform: scale(1.02);
            }
        }
        
        /* Marquee Animation */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .animate-marquee {
            animation: marquee 20s linear infinite;
        }
        
        .marquee-container {
            width: 100%;
            overflow: hidden;
        }

        /* Theme Colors */
        .theme-pink { background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); }
        .theme-blue { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .theme-green { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); }
        .theme-orange { background: linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%); }
        .theme-purple { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    </style>
</head>
<body class="min-h-screen rainbow-bg">
    
    <!-- Welcome Marquee -->
    <div class="overflow-hidden border-b-4 border-white shadow-lg" style="background: linear-gradient(-45deg, #ff6b35, #f7931e, #ffd23f, #06d6a0, #118ab2, #073b4c, #e63946, #f77f00, #fcbf49, #ff006e, #8338ec, #3a86ff); background-size: 400% 400%; animation: rainbow 4s ease infinite; padding: 12px 0;">
        <div class="marquee-container">
            <div class="marquee-text text-lg sm:text-2xl font-bold whitespace-nowrap animate-marquee text-white" style="text-shadow: 3px 3px 6px rgba(0,0,0,0.8), 0 0 20px rgba(255,255,255,0.5); letter-spacing: 2px;">
                ğŸš€ğŸ‘¨â€ğŸ’» This site is developed by Mr. Deepak Kumar Vaishy ğŸ‘¨â€ğŸ’»ğŸš€ 
                ğŸ’»âœ¨ This site is developed by Mr. Deepak Kumar Vaishy âœ¨ğŸ’» 
                ğŸ“ğŸŒŸ This site is developed by Mr. Deepak Kumar Vaishy ğŸŒŸğŸ“ 
                ğŸš€ğŸ‘¨â€ğŸ’» This site is developed by Mr. Deepak Kumar Vaishy ğŸ‘¨â€ğŸ’»ğŸš€ 
                ğŸ’»âœ¨ This site is developed by Mr. Deepak Kumar Vaishy âœ¨ğŸ’» 
                ğŸ“ğŸŒŸ This site is developed by Mr. Deepak Kumar Vaishy ğŸŒŸğŸ“
            </div>
        </div>
    </div>

    <!-- Celebration Effects Container for High Achievers -->
    <div id="celebrationContainer" class="confetti-container hidden"></div>

    <!-- Header -->
    <div class="text-center py-4 sm:py-8 px-2 sm:px-4 sparkle-container">
        

        <!-- Main School Name Heading -->
        <div class="mb-6 sm:mb-8 text-center relative">
            <!-- Floating Elements Around Box -->
            <div class="absolute top-0 left-0 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full opacity-70" style="animation: floatAround1 8s ease-in-out infinite;"></div>
            <div class="absolute top-0 right-0 w-6 h-6 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full opacity-70" style="animation: floatAround2 10s ease-in-out infinite;"></div>
            <div class="absolute bottom-0 left-0 w-7 h-7 bg-gradient-to-r from-green-400 to-yellow-400 rounded-full opacity-70" style="animation: floatAround3 12s ease-in-out infinite;"></div>
            <div class="absolute bottom-0 right-0 w-5 h-5 bg-gradient-to-r from-red-400 to-orange-400 rounded-full opacity-70" style="animation: floatAround4 9s ease-in-out infinite;"></div>
            
            <!-- Sparkle Elements -->
            <div class="absolute top-4 left-8 text-2xl opacity-80" style="animation: sparkleRotate 4s linear infinite;">âœ¨</div>
            <div class="absolute top-4 right-8 text-xl opacity-80" style="animation: sparkleRotate 5s linear infinite reverse;">â­</div>
            <div class="absolute bottom-4 left-8 text-2xl opacity-80" style="animation: sparkleRotate 6s linear infinite;">ğŸŒŸ</div>
            <div class="absolute bottom-4 right-8 text-xl opacity-80" style="animation: sparkleRotate 4.5s linear infinite reverse;">ğŸ’«</div>
            
            <div class="bg-white rounded-3xl px-4 py-4 shadow-2xl border-6 border-yellow-400 transform hover:scale-105 transition-all duration-300 mx-auto max-w-5xl relative z-10" style="background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%); animation: schoolBoxFloat 6s ease-in-out infinite, schoolBoxGlow 4s ease-in-out infinite;">
                <h1 class="text-lg sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-display font-bold text-center uppercase whitespace-nowrap" style="background: linear-gradient(135deg, #e74c3c, #f39c12, #27ae60, #3498db, #9b59b6); background-size: 300% 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 3px 3px 6px rgba(0,0,0,0.2); animation: bounce 2s ease-in-out infinite, textColorShift 8s ease-in-out infinite; letter-spacing: 1px;">
                    ğŸ«âœ¨ Primary School Karanpur âœ¨ğŸ«
                </h1>
            </div>
        </div>

        <!-- Location Info Boxes -->
        <div class="mb-4 sm:mb-6 flex flex-col sm:flex-row justify-center gap-3 sm:gap-4">
            <!-- Block Box -->
            <div class="bg-white rounded-3xl px-6 py-4 shadow-2xl border-4 border-green-400 transform hover:scale-105 transition-all duration-300 flex-1 max-w-sm" style="background: linear-gradient(135deg, #ffffff 0%, #f0fff4 100%); box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 0 0 4px #4ade80, inset 0 0 20px rgba(74,222,128,0.1);">
                <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-elegant font-bold text-center whitespace-nowrap" style="background: linear-gradient(135deg, #16a34a, #059669, #0d9488); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); animation: wiggle 2s ease-in-out infinite;">
                    ğŸ“ Block: Behjam ğŸ“
                </p>
            </div>
            
            <!-- District Box -->
            <div class="bg-white rounded-3xl px-6 py-4 shadow-2xl border-4 border-blue-400 transform hover:scale-105 transition-all duration-300 flex-1 max-w-sm" style="background: linear-gradient(135deg, #ffffff 0%, #f0f9ff 100%); box-shadow: 0 15px 35px rgba(0,0,0,0.3), 0 0 0 4px #60a5fa, inset 0 0 20px rgba(96,165,250,0.1);">
                <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-elegant font-bold text-center whitespace-nowrap" style="background: linear-gradient(135deg, #2563eb, #1d4ed8, #1e40af); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 2px 2px 4px rgba(0,0,0,0.1); animation: float 3s ease-in-out infinite;">
                    ğŸ›ï¸ Lakhimpur-Kheri ğŸ›ï¸
                </p>
            </div>
        </div>
        
        <!-- Desktop Navigation -->
        <div class="hidden sm:flex flex-col sm:flex-row justify-center gap-3 sm:gap-6">
            <button id="studentBtn" class="magic-button py-3 sm:py-4 px-6 sm:px-8 rounded-full text-lg sm:text-xl font-primary wiggle text-shadow-bold" style="letter-spacing: 2px;">
                âœ¨ğŸ“Š VIEW REPORT CARD ğŸ“Šâœ¨
            </button>
            <button id="adminBtn" class="magic-button py-3 sm:py-4 px-6 sm:px-8 rounded-full text-lg sm:text-xl font-primary float text-shadow-bold" style="letter-spacing: 2px;">
                ğŸš€ğŸ‘¨â€ğŸ’¼ ADMIN PANEL ğŸ‘¨â€ğŸ’¼ğŸš€
            </button>
        </div>
        
        <!-- Mobile Navigation -->
        <div class="sm:hidden mobile-nav">
            <button id="studentBtnMobile" class="magic-button touch-button mobile-text-base font-primary wiggle w-full mb-2 text-shadow-bold">
                âœ¨ğŸ“Š VIEW REPORT CARD ğŸ“Šâœ¨
            </button>
            <button id="adminBtnMobile" class="magic-button touch-button mobile-text-base font-primary float w-full text-shadow-bold">
                ğŸš€ğŸ‘¨â€ğŸ’¼ ADMIN PANEL ğŸ‘¨â€ğŸ’¼ğŸš€
            </button>
        </div>
    </div>

    <!-- Student Section -->
    <div id="studentSection" class="container mx-auto px-1 sm:px-2 md:px-4 max-w-7xl mb-20 sm:mb-0">
        <div class="mobile-card p-3 sm:p-4 md:p-8 slide-in sparkle-container" style="background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #06d6a0 100%); border-radius: 15px sm:border-radius: 25px; box-shadow: 0 10px 30px rgba(0,0,0,0.3), inset 0 0 0 3px #ffffff, inset 0 0 0 6px rgba(255,255,255,0.2); border: 4px sm:border-8px solid #ffffff; transition: all 0.3s ease; backdrop-filter: blur(10px);">
            <h2 class="text-base sm:text-xl md:text-3xl font-heading mb-3 sm:mb-4 md:mb-6 text-center wiggle text-white drop-shadow-lg mobile-text-lg text-shadow-glow" style="letter-spacing: 2px; border: 2px sm:border-4px solid rgba(255,255,255,0.8); background: rgba(255,255,255,0.2); padding: 8px sm:padding-12px md:padding-16px; border-radius: 12px sm:border-radius-20px; backdrop-filter: blur(5px);">
                âœ¨ğŸŒŸ SELECT STUDENT DETAILS ğŸŒŸâœ¨
            </h2>
            
            <div class="mobile-grid md:grid-cols-2 gap-3 sm:gap-4 md:gap-6 mb-3 sm:mb-4 md:mb-6">
                <div class="mobile-spacing">
                    <label class="block text-sm sm:text-base md:text-lg lg:text-xl font-playful mb-2 text-white drop-shadow-lg mobile-text-base text-shadow-glow" style="letter-spacing: 1px; background: rgba(255,255,255,0.2); padding: 6px 12px sm:padding-8px-16px; border-radius: 10px sm:border-radius-15px; border: 2px sm:border-3px solid rgba(255,255,255,0.6); backdrop-filter: blur(5px);">ğŸŒŸğŸ“š CLASS ğŸ“šğŸŒŸ</label>
                    <select id="classSelect" class="mobile-form w-full p-3 sm:p-4 text-sm sm:text-base md:text-lg font-primary focus:outline-none transition-all duration-300 touch-button" style="border: 3px sm:border-6px solid #ffffff; border-radius: 12px sm:border-radius-20px; box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 0 0 2px rgba(255,255,255,0.5); background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); backdrop-filter: blur(5px);">
                        <option value="">ğŸ¯ Select Class</option>
                        <option value="1">ğŸŒŸ Class 1</option>
                        <option value="2">ğŸŒŸ Class 2</option>
                        <option value="3">ğŸŒŸ Class 3</option>
                        <option value="4">ğŸŒŸ Class 4</option>
                        <option value="5">ğŸŒŸ Class 5</option>
                    </select>
                </div>
                <div class="mobile-spacing">
                    <label class="block text-sm sm:text-base md:text-lg lg:text-xl font-playful mb-2 text-white drop-shadow-lg mobile-text-base text-shadow-glow" style="letter-spacing: 1px; background: rgba(255,255,255,0.2); padding: 6px 12px sm:padding-8px-16px; border-radius: 10px sm:border-radius-15px; border: 2px sm:border-3px solid rgba(255,255,255,0.6); backdrop-filter: blur(5px);">âœ¨ğŸ‘¦ STUDENT NAME ğŸ‘¦âœ¨</label>
                    <select id="studentSelect" class="mobile-form w-full p-3 sm:p-4 text-sm sm:text-base md:text-lg font-primary focus:outline-none transition-all duration-300 touch-button" style="border: 3px sm:border-6px solid #ffffff; border-radius: 12px sm:border-radius-20px; box-shadow: 0 6px 20px rgba(0,0,0,0.2), inset 0 0 0 2px rgba(255,255,255,0.5); background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); backdrop-filter: blur(5px);" disabled>
                        <option value="">ğŸ¯ First select a class</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Report Card Display -->
        <div id="reportCard" class="hidden mt-3 sm:mt-6">
            <!-- Compact Magical Report Card Container -->
            <div class="relative overflow-hidden" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); border-radius: 15px; padding: 3px; box-shadow: 0 10px 25px rgba(0,0,0,0.2), 0 0 0 3px rgba(255,255,255,0.1); animation: float 4s ease-in-out infinite;">
                
                <!-- Simplified Background Elements -->
                <div class="absolute inset-0 overflow-hidden rounded-xl">
                    <div class="absolute -top-3 -left-3 w-12 h-12 bg-gradient-to-r from-yellow-300 to-pink-300 rounded-full opacity-15 animate-pulse"></div>
                    <div class="absolute -bottom-3 -right-3 w-16 h-16 bg-gradient-to-r from-blue-300 to-purple-300 rounded-full opacity-15" style="animation: float 6s ease-in-out infinite reverse;"></div>
                </div>

                <div class="relative bg-white rounded-xl p-2 sm:p-4 shadow-xl backdrop-filter backdrop-blur-lg border border-white/20">
                    
                    <!-- Compact Header -->
                    <div class="text-center mb-3 sm:mb-4 relative overflow-hidden" style="background: linear-gradient(135deg, #ff6b6b 0%, #feca57 25%, #48dbfb 50%, #ff9ff3 75%, #54a0ff 100%); background-size: 300% 300%; animation: rainbow 4s ease infinite; border-radius: 12px; padding: 8px 16px; box-shadow: 0 6px 15px rgba(0,0,0,0.15), inset 0 0 0 2px rgba(255,255,255,0.3);">
                        
                        <!-- Minimal Floating Stars -->
                        <div class="absolute top-1 left-2 text-sm animate-bounce" style="animation-delay: 0s;">â­</div>
                        <div class="absolute top-1 right-2 text-sm animate-bounce" style="animation-delay: 0.5s;">âœ¨</div>
                        <div class="absolute bottom-1 left-3 text-sm animate-bounce" style="animation-delay: 1s;">ğŸŒŸ</div>
                        <div class="absolute bottom-1 right-3 text-sm animate-bounce" style="animation-delay: 1.5s;">ğŸ’«</div>
                        
                        <h2 class="text-base sm:text-2xl md:text-3xl font-display mb-1 sm:mb-2 text-white relative z-10 text-shadow-glow" style="letter-spacing: 1px; animation: bounce 2s infinite;">
                            ğŸ†âœ¨ REPORT CARD âœ¨ğŸ†
                        </h2>
                        <p class="text-xs sm:text-base md:text-lg font-elegant text-white relative z-10 text-shadow-bold" style="animation: pulse 3s ease-in-out infinite;">
                            ğŸŒŸ Academic Excellence Report ğŸŒŸ
                        </p>
                    </div>
                    
                    <!-- Compact Student Info Cards -->
                    <div id="studentInfo" class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3 mb-3 sm:mb-4">
                        <!-- Student info will be populated here with animations -->
                    </div>
                    
                    <!-- Compact Marks Table -->
                    <div class="mb-3 sm:mb-4 relative">
                        <div class="text-center mb-2 sm:mb-3">
                            <h3 class="text-sm sm:text-lg md:text-xl font-heading bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-1 text-shadow-soft" style="animation: wiggle 3s ease-in-out infinite;">
                                ğŸ“šâœ¨ SUBJECT PERFORMANCE âœ¨ğŸ“š
                            </h3>
                            <div class="w-16 h-0.5 bg-gradient-to-r from-purple-500 to-pink-500 mx-auto rounded-full" style="animation: pulse 2s ease-in-out infinite;"></div>
                        </div>
                        
                        <div class="mobile-table overflow-x-auto rounded-lg sm:rounded-xl shadow-md sm:shadow-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2px;">
                            <div class="bg-white rounded-md sm:rounded-lg overflow-hidden">
                                <table class="fun-table w-full min-w-[280px] sm:min-w-[300px]">
                                    <thead>
                                        <tr style="background: linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #48dbfb 100%);">
                                            <th class="mobile-animate text-xs sm:text-sm md:text-base lg:text-lg" style="animation: wiggle 2s ease-in-out infinite; animation-delay: 0s; padding: 8px 6px;">ğŸ“– SUBJECT</th>
                                            <th class="mobile-animate text-xs sm:text-sm md:text-base lg:text-lg" style="animation: pulse 2s ease-in-out infinite; animation-delay: 0.3s; padding: 8px 6px;">ğŸ“ GOT</th>
                                            <th class="mobile-animate text-xs sm:text-sm md:text-base lg:text-lg" style="animation: float 3s ease-in-out infinite; animation-delay: 0.6s; padding: 8px 6px;">ğŸ¯ MAX</th>
                                            <th class="mobile-animate text-xs sm:text-sm md:text-base lg:text-lg" style="animation: bounce 2s ease-in-out infinite; animation-delay: 0.9s; padding: 8px 6px;">ğŸ“Š %</th>
                                        </tr>
                                    </thead>
                                    <tbody id="marksTable">
                                        <!-- Marks will be populated here with animations -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Compact Summary Cards -->
                    <div class="mb-3 sm:mb-4">
                        <div class="text-center mb-2 sm:mb-3">
                            <h3 class="text-sm sm:text-lg md:text-xl font-heading bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent mb-1 text-shadow-soft" style="animation: bounce 2s ease-in-out infinite;">
                                ğŸ“ŠğŸ† OVERALL RESULT ğŸ†ğŸ“Š
                            </h3>
                            <div class="w-20 h-0.5 bg-gradient-to-r from-green-500 to-blue-500 mx-auto rounded-full" style="animation: pulse 2s ease-in-out infinite;"></div>
                        </div>
                        
                        <div id="summary" class="grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3">
                            <!-- Summary will be populated here with enhanced animations -->
                        </div>
                    </div>
                    
                    <!-- Compact Inspirational Quote Section -->
                    <div class="relative overflow-hidden rounded-lg" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); padding: 2px; box-shadow: 0 4px 10px rgba(0,0,0,0.15);">
                        
                        <!-- Minimal Floating Elements -->
                        <div class="absolute top-1 left-1 text-xs animate-bounce" style="animation-delay: 0s;">ğŸŒŸ</div>
                        <div class="absolute top-1 right-1 text-xs animate-bounce" style="animation-delay: 0.7s;">âœ¨</div>
                        <div class="absolute bottom-1 left-1 text-xs animate-bounce" style="animation-delay: 1.4s;">ğŸ’«</div>
                        <div class="absolute bottom-1 right-1 text-xs animate-bounce" style="animation-delay: 2.1s;">â­</div>
                        
                        <div id="inspirationalQuote" class="bg-white rounded-md p-2 sm:p-3 text-center relative z-10 shadow-inner">
                            <!-- Quote will be populated here with enhanced styling -->
                        </div>
                    </div>
                    
                    <!-- Minimal Decorative Elements -->
                    <div class="absolute top-1 left-1 w-3 h-3 bg-yellow-300 rounded-full opacity-40" style="animation: float 3s ease-in-out infinite;"></div>
                    <div class="absolute top-2 right-2 w-2 h-2 bg-pink-300 rounded-full opacity-40" style="animation: float 4s ease-in-out infinite reverse;"></div>
                    <div class="absolute bottom-1 left-2 w-3 h-3 bg-blue-300 rounded-full opacity-40" style="animation: pulse 3s ease-in-out infinite;"></div>
                    <div class="absolute bottom-2 right-1 w-2 h-2 bg-green-300 rounded-full opacity-40" style="animation: bounce 2s ease-in-out infinite;"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Section -->
    <div id="adminSection" class="hidden container mx-auto px-1 sm:px-2 md:px-4 max-w-7xl mb-20 sm:mb-0">
        <!-- Admin Login -->
        <div id="adminLogin" class="mobile-card cute-card p-3 sm:p-4 md:p-8 mx-auto max-w-sm sm:max-w-md sparkle-container">
            <h2 class="text-lg sm:text-xl md:text-3xl font-heading text-center text-white mb-3 sm:mb-4 md:mb-6 wiggle mobile-text-xl text-shadow-glow">ğŸ”âœ¨ Admin Access âœ¨ğŸ”</h2>
            <div class="mb-3 sm:mb-4 md:mb-6 mobile-spacing">
                <label class="block text-sm sm:text-base md:text-lg font-bold text-white mb-2 mobile-text-base">ğŸ”‘ Password</label>
                <input type="password" id="adminPassword" class="mobile-form w-full p-3 sm:p-4 border-3 sm:border-4 border-white rounded-xl sm:rounded-2xl text-sm sm:text-base md:text-lg focus:border-yellow-300 focus:outline-none transition-all duration-300 theme-orange touch-button" placeholder="âœ¨ Enter admin password">
            </div>
            <button id="loginBtn" class="w-full magic-button touch-button py-3 sm:py-4 px-4 sm:px-6 rounded-xl sm:rounded-2xl text-base sm:text-lg md:text-xl font-bold pulse mobile-text-lg">
                ğŸš€âœ¨ Login âœ¨ğŸš€
            </button>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="hidden">
            <div class="cute-card p-4 sm:p-8 sparkle-container">
                <h2 class="text-2xl sm:text-4xl font-bold text-center text-white mb-4 sm:mb-8 bounce color-shift">ğŸ‘¨â€ğŸ’¼âœ¨ Admin Dashboard âœ¨ğŸ‘¨â€ğŸ’¼</h2>
                
                <!-- Student Management -->
                <div class="bg-gradient-to-br from-pink-200 via-purple-200 to-blue-200 p-4 sm:p-8 rounded-3xl shadow-lg mb-4 sm:mb-8 border-4 border-white sparkle-container">
                    <h3 class="text-xl sm:text-3xl font-bold text-purple-800 mb-4 sm:mb-6 text-center wiggle">ğŸ“âœ¨ Student & Marks Management âœ¨ğŸ“</h3>
                    
                    <!-- Class Selection -->
                    <div class="mb-4 sm:mb-6">
                        <label class="block text-base sm:text-lg font-bold text-purple-700 mb-2">ğŸ“š Select Class</label>
                        <select id="adminClassSelect" class="w-full p-3 sm:p-4 border-3 border-purple-300 rounded-xl text-base sm:text-lg font-bold focus:border-purple-500 focus:outline-none">
                            <option value="">Choose Class</option>
                            <option value="1">Class 1</option>
                            <option value="2">Class 2</option>
                            <option value="3">Class 3</option>
                            <option value="4">Class 4</option>
                            <option value="5">Class 5</option>
                        </select>
                    </div>

                    <!-- Student Selection/Creation -->
                    <div class="mb-4 sm:mb-6">
                        <label class="block text-base sm:text-lg font-bold text-purple-700 mb-2">ğŸ‘¦ Student</label>
                        <div class="flex flex-col sm:flex-row gap-3 mb-3">
                            <select id="adminStudentSelect" class="flex-1 p-3 sm:p-4 border-3 border-purple-300 rounded-xl text-base sm:text-lg font-bold focus:border-purple-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                                <option value="">First select a class</option>
                                <option value="new">â• Add New Student</option>
                            </select>
                            <button id="deleteStudentBtn" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-xl transform hover:scale-105 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base" disabled>
                                ğŸ—‘ï¸ Delete
                            </button>
                        </div>
                    </div>

                    <!-- Student Details Form -->
                    <div id="studentForm" class="mb-4 sm:mb-6">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4 mb-3 sm:mb-4">
                            <div>
                                <label class="block text-base sm:text-lg font-bold text-purple-700 mb-2">ğŸ‘¦ Student Name</label>
                                <input type="text" id="studentName" placeholder="First select a class to enable editing" class="w-full p-3 sm:p-4 border-3 border-purple-300 rounded-xl text-base sm:text-lg font-bold focus:border-purple-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100" disabled>
                            </div>
                            <div>
                                <label class="block text-base sm:text-lg font-bold text-purple-700 mb-2">ğŸ‘¨ Father's Name</label>
                                <input type="text" id="fatherName" placeholder="First select a class to enable editing" class="w-full p-3 sm:p-4 border-3 border-purple-300 rounded-xl text-base sm:text-lg font-bold focus:border-purple-500 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-100" disabled>
                            </div>
                        </div>
                    </div>

                    <!-- Subjects and Marks -->
                    <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-inner mb-4 sm:mb-6">
                        <h4 class="text-lg sm:text-2xl font-bold text-purple-700 text-center mb-3 sm:mb-4">ğŸ“– Subjects & Marks</h4>
                        
                        <div id="subjectsContainer" class="disabled:opacity-50 disabled:pointer-events-none">
                            <!-- Subject rows will be added here -->
                        </div>
                        
                        <div class="text-center mt-3 sm:mt-4">
                            <button id="addSubjectBtn" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-full transform hover:scale-105 transition-all duration-300 text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400" disabled>
                                â• Add Subject
                            </button>
                        </div>
                    </div>

                    <!-- Save Button -->
                    <button id="saveStudentBtn" class="w-full magic-button py-4 sm:py-6 px-6 sm:px-8 rounded-2xl text-lg sm:text-2xl font-bold bounce disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-400" disabled>
                        âœ¨ğŸŒŸ Save Student & Marks ğŸŒŸâœ¨
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBXcBGbfxZ0kU0vqbZvsB_eD7nRBdmRAVI",
            authDomain: "deeapk1281.firebaseapp.com",
            databaseURL: "https://deeapk1281-default-rtdb.firebaseio.com",
            projectId: "deeapk1281",
            storageBucket: "deeapk1281.appspot.com",
            messagingSenderId: ".",
            appId: "1:.:web:c60b948ecacf60888a356b"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Configuration
        const ADMIN_PASSWORD = "admin123";
        let currentStudentId = null;
        let subjectCount = 0;

        // Sample Data for Recovery
        const sampleData = {
            students: {
                class1: {
                    "alice_johnson_1": { name: "Alice Johnson", fatherName: "Robert Johnson" },
                    "bob_smith_1": { name: "Bob Smith", fatherName: "Michael Smith" },
                    "charlie_brown_1": { name: "Charlie Brown", fatherName: "David Brown" }
                },
                class2: {
                    "diana_wilson_2": { name: "Diana Wilson", fatherName: "James Wilson" },
                    "edward_davis_2": { name: "Edward Davis", fatherName: "William Davis" },
                    "fiona_miller_2": { name: "Fiona Miller", fatherName: "Thomas Miller" }
                },
                class3: {
                    "george_taylor_3": { name: "George Taylor", fatherName: "Richard Taylor" },
                    "helen_anderson_3": { name: "Helen Anderson", fatherName: "Charles Anderson" },
                    "ivan_thomas_3": { name: "Ivan Thomas", fatherName: "Joseph Thomas" }
                }
            },
            marks: {
                class1: {
                    "alice_johnson_1": {
                        "Mathematics": { obtained: 95, maximum: 100 },
                        "English": { obtained: 88, maximum: 100 },
                        "Science": { obtained: 92, maximum: 100 },
                        "Social Studies": { obtained: 85, maximum: 100 }
                    },
                    "bob_smith_1": {
                        "Mathematics": { obtained: 78, maximum: 100 },
                        "English": { obtained: 82, maximum: 100 },
                        "Science": { obtained: 75, maximum: 100 },
                        "Social Studies": { obtained: 80, maximum: 100 }
                    },
                    "charlie_brown_1": {
                        "Mathematics": { obtained: 65, maximum: 100 },
                        "English": { obtained: "Absent", maximum: 100 },
                        "Science": { obtained: 68, maximum: 100 },
                        "Social Studies": { obtained: 72, maximum: 100 }
                    }
                },
                class2: {
                    "diana_wilson_2": {
                        "Mathematics": { obtained: 90, maximum: 100 },
                        "English": { obtained: 94, maximum: 100 },
                        "Science": { obtained: 87, maximum: 100 },
                        "Social Studies": { obtained: 91, maximum: 100 },
                        "Art": { obtained: 96, maximum: 100 }
                    },
                    "edward_davis_2": {
                        "Mathematics": { obtained: 73, maximum: 100 },
                        "English": { obtained: 79, maximum: 100 },
                        "Science": { obtained: 76, maximum: 100 },
                        "Social Studies": { obtained: 74, maximum: 100 },
                        "Art": { obtained: 85, maximum: 100 }
                    },
                    "fiona_miller_2": {
                        "Mathematics": { obtained: 82, maximum: 100 },
                        "English": { obtained: 86, maximum: 100 },
                        "Science": { obtained: 84, maximum: 100 },
                        "Social Studies": { obtained: 88, maximum: 100 },
                        "Art": { obtained: 90, maximum: 100 }
                    }
                },
                class3: {
                    "george_taylor_3": {
                        "Mathematics": { obtained: 88, maximum: 100 },
                        "English": { obtained: 85, maximum: 100 },
                        "Science": { obtained: 90, maximum: 100 },
                        "Social Studies": { obtained: 87, maximum: 100 },
                        "Computer": { obtained: 95, maximum: 100 }
                    },
                    "helen_anderson_3": {
                        "Mathematics": { obtained: 92, maximum: 100 },
                        "English": { obtained: 89, maximum: 100 },
                        "Science": { obtained: 94, maximum: 100 },
                        "Social Studies": { obtained: 91, maximum: 100 },
                        "Computer": { obtained: 88, maximum: 100 }
                    },
                    "ivan_thomas_3": {
                        "Mathematics": { obtained: 77, maximum: 100 },
                        "English": { obtained: 74, maximum: 100 },
                        "Science": { obtained: 79, maximum: 100 },
                        "Social Studies": { obtained: 76, maximum: 100 },
                        "Computer": { obtained: 82, maximum: 100 }
                    }
                }
            }
        };

        // DOM Elements
        const elements = {
            // Navigation
            studentBtn: document.getElementById('studentBtn'),
            adminBtn: document.getElementById('adminBtn'),
            studentSection: document.getElementById('studentSection'),
            adminSection: document.getElementById('adminSection'),

            
            // Student View
            classSelect: document.getElementById('classSelect'),
            studentSelect: document.getElementById('studentSelect'),
            reportCard: document.getElementById('reportCard'),
            studentInfo: document.getElementById('studentInfo'),
            marksTable: document.getElementById('marksTable'),
            summary: document.getElementById('summary'),
            inspirationalQuote: document.getElementById('inspirationalQuote'),
            
            // Admin
            adminLogin: document.getElementById('adminLogin'),
            adminDashboard: document.getElementById('adminDashboard'),
            adminPassword: document.getElementById('adminPassword'),
            loginBtn: document.getElementById('loginBtn'),
            adminClassSelect: document.getElementById('adminClassSelect'),
            adminStudentSelect: document.getElementById('adminStudentSelect'),
            deleteStudentBtn: document.getElementById('deleteStudentBtn'),
            studentForm: document.getElementById('studentForm'),
            studentName: document.getElementById('studentName'),
            fatherName: document.getElementById('fatherName'),
            subjectsContainer: document.getElementById('subjectsContainer'),
            addSubjectBtn: document.getElementById('addSubjectBtn'),
            saveStudentBtn: document.getElementById('saveStudentBtn')
        };

        // Utility Functions
        function showMessage(message, type = 'success') {
            const messageDiv = document.createElement('div');
            if (type === 'success') {
                messageDiv.className = 'success-message';
            } else if (type === 'info') {
                messageDiv.className = 'fixed top-20 right-20 bg-gradient-to-r from-blue-500 to-cyan-500 text-white padding-15px-20px rounded-20px box-shadow-0-8px-25px-rgba(0,0,0,0.2) z-index-1000 animation-slideIn-0.5s-ease-out font-weight-bold border-3px-solid-white';
                messageDiv.style.cssText = 'position: fixed; top: 20px; right: 20px; background: linear-gradient(45deg, #3b82f6, #06b6d4); color: white; padding: 15px 20px; border-radius: 20px; box-shadow: 0 8px 25px rgba(0,0,0,0.2); z-index: 1000; animation: slideIn 0.5s ease-out; font-weight: bold; border: 3px solid white;';
            } else {
                messageDiv.className = 'error-message';
            }
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }

        function generateStudentId(name) {
            return name.toLowerCase().replace(/\s+/g, '_') + '_' + Date.now();
        }

        function calculateGrade(percentage) {
            if (percentage >= 90) return 'A+';
            if (percentage >= 80) return 'A';
            if (percentage >= 70) return 'B';
            if (percentage >= 60) return 'C';
            if (percentage >= 50) return 'D';
            return 'F';
        }

        // Celebration Functions for High Achievers (85%+)
        function createCelebrationEffects() {
            const container = document.getElementById('celebrationContainer');
            container.classList.remove('hidden');
            container.innerHTML = '';

            // Create confetti pieces
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.backgroundColor = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3'][Math.floor(Math.random() * 6)];
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 2) + 's';
                container.appendChild(confetti);
            }

            // Create star bursts
            for (let i = 0; i < 10; i++) {
                const star = document.createElement('div');
                star.className = 'star-burst';
                star.innerHTML = 'â­';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(star);
            }

            // Create fireworks
            for (let i = 0; i < 8; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = Math.random() * 100 + '%';
                firework.style.top = Math.random() * 50 + '%';
                firework.style.backgroundColor = ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1'][Math.floor(Math.random() * 4)];
                firework.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(firework);
            }

            // Create shower effect (water drops)
            for (let i = 0; i < 30; i++) {
                const drop = document.createElement('div');
                drop.className = 'shower-drop';
                drop.style.left = Math.random() * 100 + '%';
                drop.style.animationDelay = Math.random() * 2 + 's';
                drop.style.animationDuration = (Math.random() * 1 + 1.5) + 's';
                container.appendChild(drop);
            }

            // Hide celebration after 10 seconds
            setTimeout(() => {
                container.classList.add('hidden');
            }, 10000);
        }

        function applyCelebrationStyles(percentage) {
            const reportCard = document.getElementById('reportCard');
            const studentInfo = document.getElementById('studentInfo');
            const summary = document.getElementById('summary');
            const inspirationalQuote = document.getElementById('inspirationalQuote');

            if (percentage >= 85) {
                // Add special celebration classes
                reportCard.classList.add('gold-glow');
                studentInfo.classList.add('celebration');
                summary.classList.add('trophy-bounce');
                inspirationalQuote.classList.add('celebration');
                
                // Create celebration effects
                createCelebrationEffects();
                
                // Add special trophy and crown emojis
                const reportCardTitle = reportCard.querySelector('h2');
                if (reportCardTitle && !reportCardTitle.innerHTML.includes('ğŸ‘‘')) {
                    reportCardTitle.innerHTML = 'ğŸ‘‘ğŸ† EXCELLENT REPORT CARD ğŸ†ğŸ‘‘';
                }
            } else {
                // Remove celebration classes if percentage is below 85%
                reportCard.classList.remove('gold-glow');
                studentInfo.classList.remove('celebration');
                summary.classList.remove('trophy-bounce');
                inspirationalQuote.classList.remove('celebration');
                
                // Reset title
                const reportCardTitle = reportCard.querySelector('h2');
                if (reportCardTitle) {
                    reportCardTitle.innerHTML = 'ğŸ‰âœ¨ REPORT CARD âœ¨ğŸ‰';
                }
            }
        }

        // Inspirational Quotes based on exact percentage performance
        function getInspirationalQuote(percentage, rank) {
            let quote, emoji;
            
            // Specific quotes based on exact percentage ranges
            if (percentage >= 98) {
                quote = `Outstanding! With ${percentage}% you've achieved near perfection! You're truly exceptional!`;
                emoji = "ğŸ‘‘";
            } else if (percentage >= 95) {
                quote = `Brilliant! Scoring ${percentage}% shows your incredible dedication and talent!`;
                emoji = "ğŸ†";
            } else if (percentage >= 90) {
                quote = `Excellent work! Your ${percentage}% score reflects outstanding academic performance!`;
                emoji = "â­";
            } else if (percentage >= 85) {
                quote = `Great job! With ${percentage}%, you've demonstrated strong understanding and effort!`;
                emoji = "ğŸŒŸ";
            } else if (percentage >= 80) {
                quote = `Well done! Your ${percentage}% shows good academic progress and commitment!`;
                emoji = "âœ¨";
            } else if (percentage >= 75) {
                quote = `Good work! Scoring ${percentage}% indicates you're on the right learning path!`;
                emoji = "ğŸ¯";
            } else if (percentage >= 70) {
                quote = `Nice effort! Your ${percentage}% shows steady improvement in your studies!`;
                emoji = "ğŸ’ª";
            } else if (percentage >= 65) {
                quote = `Keep going! With ${percentage}%, you're making consistent academic progress!`;
                emoji = "ğŸš€";
            } else if (percentage >= 60) {
                quote = `Stay positive! Your ${percentage}% shows you're learning and developing skills!`;
                emoji = "â¤ï¸";
            } else if (percentage >= 55) {
                quote = `Don't give up! At ${percentage}%, you have room to grow and improve further!`;
                emoji = "ğŸŒ±";
            } else if (percentage >= 50) {
                quote = `Keep trying! Your ${percentage}% is a starting point for greater achievements!`;
                emoji = "ğŸ“ˆ";
            } else if (percentage >= 40) {
                quote = `Stay strong! With ${percentage}%, focus on building stronger study habits!`;
                emoji = "ğŸŒˆ";
            } else if (percentage >= 30) {
                quote = `Never give up! At ${percentage}%, every small step forward counts!`;
                emoji = "ğŸ’«";
            } else {
                quote = `Believe in yourself! Your ${percentage}% shows you need extra support and practice!`;
                emoji = "ğŸ¦";
            }

            return {
                quote: quote,
                emoji: emoji
            };
        }

        // Restore Sample Data Function
        async function restoreSampleData() {
            try {
                // Add sample students
                await db.ref('students').set(sampleData.students);
                
                // Add sample marks
                await db.ref('marks').set(sampleData.marks);
                
                console.log('Sample data restored successfully');
                
            } catch (error) {
                console.error('Error restoring sample data:', error);
            }
        }

        // Navigation - Desktop and Mobile
        function showStudentSection() {
            elements.studentSection.classList.remove('hidden');
            elements.adminSection.classList.add('hidden');
            elements.reportCard.classList.add('hidden');
        }

        function showAdminSection() {
            elements.adminSection.classList.remove('hidden');
            elements.studentSection.classList.add('hidden');
            elements.reportCard.classList.add('hidden');
            // Always show login first and hide dashboard
            elements.adminLogin.classList.remove('hidden');
            elements.adminDashboard.classList.add('hidden');
            // Clear password field
            elements.adminPassword.value = '';
        }

        // Desktop Navigation
        elements.studentBtn.addEventListener('click', showStudentSection);
        elements.adminBtn.addEventListener('click', showAdminSection);

        // Mobile Navigation
        document.getElementById('studentBtnMobile').addEventListener('click', showStudentSection);
        document.getElementById('adminBtnMobile').addEventListener('click', showAdminSection);

        // Admin Login
        elements.loginBtn.addEventListener('click', () => {
            if (elements.adminPassword.value === ADMIN_PASSWORD) {
                elements.adminLogin.classList.add('hidden');
                elements.adminDashboard.classList.remove('hidden');
                addSubjectRow(); // Add initial subject row
            } else {
                showMessage('âŒ Incorrect password!', 'error');
            }
        });

        // Student View - Class Selection
        elements.classSelect.addEventListener('change', async () => {
            const classNum = elements.classSelect.value;
            elements.studentSelect.innerHTML = '<option value="">Select Student</option>';
            elements.studentSelect.disabled = true;
            elements.reportCard.classList.add('hidden');

            if (classNum) {
                try {
                    const snapshot = await db.ref(`students/class${classNum}`).once('value');
                    const students = snapshot.val();
                    
                    if (students) {
                        elements.studentSelect.disabled = false;
                        Object.keys(students).forEach(studentId => {
                            const option = document.createElement('option');
                            option.value = studentId;
                            option.textContent = students[studentId].name;
                            elements.studentSelect.appendChild(option);
                        });
                    } else {
                        elements.studentSelect.innerHTML = '<option value="">No students found</option>';
                    }
                } catch (error) {
                    console.error('Error loading students:', error);
                    showMessage('âŒ Error loading students', 'error');
                }
            }
        });

        // Student View - Student Selection
        elements.studentSelect.addEventListener('change', async () => {
            const classNum = elements.classSelect.value;
            const studentId = elements.studentSelect.value;
            
            if (classNum && studentId) {
                await displayReportCard(classNum, studentId);
            } else {
                elements.reportCard.classList.add('hidden');
            }
        });

        // Display Report Card Function
        async function displayReportCard(classNum, studentId) {
            // Show report card immediately
            elements.reportCard.classList.remove('hidden');
            
            try {
                const [studentSnapshot, marksSnapshot] = await Promise.all([
                    db.ref(`students/class${classNum}/${studentId}`).once('value'),
                    db.ref(`marks/class${classNum}/${studentId}`).once('value')
                ]);
                
                const studentData = studentSnapshot.val();
                const marksData = marksSnapshot.val();

                if (!studentData) {
                    showMessage('âŒ Student data not found!', 'error');
                    elements.reportCard.classList.add('hidden');
                    return;
                }

                // Display student info with enhanced animations
                elements.studentInfo.innerHTML = `
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%); padding: 3px; box-shadow: 0 8px 20px rgba(0,0,0,0.2); animation: slideIn 0.8s ease-out;">
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10">
                            <div class="absolute top-1 right-1 text-lg animate-bounce">ğŸ‘¦</div>
                            <h3 class="text-sm sm:text-lg font-bold text-orange-700 mb-2" style="animation: wiggle 2s ease-in-out infinite;">âœ¨ STUDENT NAME âœ¨</h3>
                            <p class="text-xs sm:text-base font-bold text-orange-800 bg-gradient-to-r from-orange-500 to-red-500 bg-clip-text text-transparent">${studentData.name}</p>
                        </div>
                        <div class="absolute -top-1 -left-1 w-4 h-4 bg-yellow-300 rounded-full opacity-60 animate-pulse"></div>
                    </div>
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 100%); padding: 3px; box-shadow: 0 8px 20px rgba(0,0,0,0.2); animation: slideIn 0.8s ease-out; animation-delay: 0.2s;">
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10">
                            <div class="absolute top-1 right-1 text-lg animate-bounce" style="animation-delay: 0.5s;">ğŸ‘¨</div>
                            <h3 class="text-sm sm:text-lg font-bold text-green-700 mb-2" style="animation: pulse 2s ease-in-out infinite;">ğŸ’š FATHER'S NAME ğŸ’š</h3>
                            <p class="text-xs sm:text-base font-bold text-green-800 bg-gradient-to-r from-green-500 to-teal-500 bg-clip-text text-transparent">${studentData.fatherName}</p>
                        </div>
                        <div class="absolute -bottom-1 -right-1 w-3 h-3 bg-green-300 rounded-full opacity-60 animate-bounce"></div>
                    </div>
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); padding: 3px; box-shadow: 0 8px 20px rgba(0,0,0,0.2); animation: slideIn 0.8s ease-out; animation-delay: 0.4s;">
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10">
                            <div class="absolute top-1 right-1 text-lg animate-bounce" style="animation-delay: 1s;">ğŸ“š</div>
                            <h3 class="text-sm sm:text-lg font-bold text-blue-700 mb-2" style="animation: float 3s ease-in-out infinite;">ğŸ’™ CLASS LEVEL ğŸ’™</h3>
                            <p class="text-xs sm:text-base font-bold text-blue-800 bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">Class ${classNum}</p>
                        </div>
                        <div class="absolute -top-1 -right-1 w-5 h-5 bg-blue-300 rounded-full opacity-60" style="animation: float 4s ease-in-out infinite;"></div>
                    </div>
                `;

                // Display enhanced marks table with animations
                let totalObtained = 0;
                let totalMaximum = 0;
                let tableHTML = '';

                if (marksData) {
                    // Define the correct order: Hindi, English, Mathematics first, then others
                    const subjectOrder = ['Hindi', 'English', 'Mathematics'];
                    const orderedSubjects = [];
                    
                    // First add subjects in the specified order
                    subjectOrder.forEach(subject => {
                        if (marksData[subject]) {
                            orderedSubjects.push(subject);
                        }
                    });
                    
                    // Then add any remaining subjects
                    Object.keys(marksData).forEach(subject => {
                        if (!subjectOrder.includes(subject)) {
                            orderedSubjects.push(subject);
                        }
                    });

                    orderedSubjects.forEach((subject, index) => {
                        const marks = marksData[subject];
                        let percentage, grade, obtainedDisplay;
                        
                        // Handle absent students
                        if (marks.obtained === 'Absent') {
                            percentage = 0;
                            grade = 'Absent';
                            obtainedDisplay = 'Absent';
                            // Don't add to total for absent subjects
                        } else {
                            percentage = ((marks.obtained / marks.maximum) * 100).toFixed(1);
                            grade = calculateGrade(percentage);
                            obtainedDisplay = marks.obtained;
                            totalObtained += marks.obtained;
                        }
                        totalMaximum += marks.maximum;

                        // Enhanced row styling with gradients and animations
                        const rowGradient = index % 4 === 0 ? 'from-pink-50 to-rose-100' : 
                                          index % 4 === 1 ? 'from-blue-50 to-indigo-100' : 
                                          index % 4 === 2 ? 'from-green-50 to-emerald-100' : 
                                          'from-yellow-50 to-amber-100';
                        
                        const gradeColor = marks.obtained === 'Absent' ? 'text-gray-600 font-extrabold' :
                                         percentage >= 90 ? 'text-green-600 font-extrabold' : 
                                         percentage >= 80 ? 'text-blue-600 font-extrabold' : 
                                         percentage >= 70 ? 'text-yellow-600 font-extrabold' : 
                                         percentage >= 60 ? 'text-orange-600 font-extrabold' : 
                                         'text-red-600 font-extrabold';
                        
                        const gradeEmoji = marks.obtained === 'Absent' ? 'âŒ' :
                                         percentage >= 90 ? 'ğŸ†' : 
                                         percentage >= 80 ? 'ğŸ¥‡' : 
                                         percentage >= 70 ? 'ğŸ¥ˆ' : 
                                         percentage >= 60 ? 'ğŸ¥‰' : 'ğŸ“š';
                        
                        const animationDelay = index * 0.1;
                        
                        tableHTML += `
                            <tr class="bg-gradient-to-r ${rowGradient} hover:scale-102 transition-all duration-300 border-b-1 sm:border-b-2 border-white mobile-animate" style="animation: fadeInUp 0.6s ease-out; animation-delay: ${animationDelay}s; animation-fill-mode: both;">
                                <td class="text-purple-800 relative">
                                    <div class="flex items-center justify-center">
                                        <span class="mr-1 text-lg sm:text-2xl animate-bounce" style="animation-delay: ${animationDelay + 0.5}s;">ğŸ“–</span>
                                        <span class="text-base sm:text-lg md:text-xl font-bold">${subject}</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="${marks.obtained === 'Absent' ? 'bg-gray-500' : 'bg-blue-500'} text-white px-3 py-2 rounded-full inline-block transform hover:scale-110 transition-all duration-300 text-base sm:text-lg md:text-xl font-bold mobile-animate" style="animation: pulse 2s ease-in-out infinite; animation-delay: ${animationDelay + 0.2}s;">
                                        ${obtainedDisplay}
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="bg-green-500 text-white px-3 py-2 rounded-full inline-block transform hover:scale-110 transition-all duration-300 text-base sm:text-lg md:text-xl font-bold mobile-animate" style="animation: pulse 2s ease-in-out infinite; animation-delay: ${animationDelay + 0.4}s;">
                                        ${marks.maximum}
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="${marks.obtained === 'Absent' ? 'bg-gradient-to-r from-gray-500 to-gray-600' : 'bg-gradient-to-r from-purple-500 to-pink-500'} text-white px-3 py-2 rounded-full inline-block transform hover:scale-110 transition-all duration-300 text-base sm:text-lg md:text-xl font-bold mobile-animate" style="animation: wiggle 2s ease-in-out infinite; animation-delay: ${animationDelay + 0.6}s;">
                                        ${marks.obtained === 'Absent' ? 'Absent' : percentage + '%'}
                                    </div>
                                </td>
                            </tr>
                        `;
                    });
                } else {
                    tableHTML = '<tr><td colspan="4" class="py-8 text-center text-gray-500 text-lg">ğŸ“š No marks data available ğŸ“š</td></tr>';
                }

                elements.marksTable.innerHTML = tableHTML;

                // Calculate overall performance
                const overallPercentage = totalMaximum > 0 ? ((totalObtained / totalMaximum) * 100).toFixed(1) : 0;
                const overallGrade = calculateGrade(overallPercentage);
                const rank = await calculateRank(classNum, parseFloat(overallPercentage));

                // Display enhanced summary with spectacular animations
                const performanceLevel = overallPercentage >= 90 ? 'outstanding' : 
                                       overallPercentage >= 80 ? 'excellent' : 
                                       overallPercentage >= 70 ? 'good' : 
                                       overallPercentage >= 60 ? 'satisfactory' : 'needsImprovement';
                
                const performanceEmoji = overallPercentage >= 90 ? 'ğŸ†ğŸ‘‘' : 
                                       overallPercentage >= 80 ? 'ğŸ¥‡â­' : 
                                       overallPercentage >= 70 ? 'ğŸ¥ˆğŸ’«' : 
                                       overallPercentage >= 60 ? 'ğŸ¥‰âœ¨' : 'ğŸ“šğŸ’ª';
                
                const rankEmoji = rank === 1 ? 'ğŸ‘‘ğŸ†' : rank <= 3 ? 'ğŸ¥‡â­' : rank <= 5 ? 'ğŸ¥ˆğŸ’«' : 'ğŸ¥‰âœ¨';
                
                elements.summary.innerHTML = `
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 50%, #fd79a8 100%); padding: 3px; box-shadow: 0 10px 25px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,255,255,0.2); animation: slideIn 0.8s ease-out;">
                        
                        <!-- Floating Elements -->
                        <div class="absolute top-1 left-1 text-lg animate-bounce">ğŸ“Š</div>
                        <div class="absolute top-1 right-1 text-sm animate-bounce" style="animation-delay: 0.5s;">âœ¨</div>
                        <div class="absolute bottom-1 left-1 text-sm animate-bounce" style="animation-delay: 1s;">ğŸ’¯</div>
                        
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10 shadow-inner">
                            <div class="mb-2">
                                <div class="text-xl sm:text-2xl animate-bounce mb-1">ğŸ“Šâœ¨</div>
                                <h3 class="text-sm sm:text-lg font-bold text-orange-700 mb-2" style="animation: wiggle 2s ease-in-out infinite;">TOTAL MARKS</h3>
                            </div>
                            <div class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-3 py-2 rounded-xl transform hover:scale-105 transition-all duration-300" style="animation: pulse 2s ease-in-out infinite;">
                                <p class="text-lg sm:text-2xl font-extrabold">${totalObtained}/${totalMaximum}</p>
                            </div>
                        </div>
                        
                        <!-- Decorative circles -->
                        <div class="absolute -top-1 -left-1 w-6 h-6 bg-yellow-300 rounded-full opacity-40 animate-pulse"></div>
                        <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-pink-300 rounded-full opacity-40" style="animation: float 3s ease-in-out infinite;"></div>
                    </div>
                    
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 50%, #52c41a 100%); padding: 3px; box-shadow: 0 10px 25px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,255,255,0.2); animation: slideIn 0.8s ease-out; animation-delay: 0.2s;">
                        
                        <!-- Floating Elements -->
                        <div class="absolute top-1 left-1 text-lg animate-bounce" style="animation-delay: 0.3s;">ğŸ“ˆ</div>
                        <div class="absolute top-1 right-1 text-sm animate-bounce" style="animation-delay: 0.8s;">ğŸŒŸ</div>
                        <div class="absolute bottom-1 right-1 text-sm animate-bounce" style="animation-delay: 1.3s;">ğŸ’š</div>
                        
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10 shadow-inner">
                            <div class="mb-2">
                                <div class="text-xl sm:text-2xl animate-bounce mb-1" style="animation-delay: 0.5s;">${performanceEmoji}</div>
                                <h3 class="text-sm sm:text-lg font-bold text-green-700 mb-2" style="animation: pulse 2s ease-in-out infinite;">PERCENTAGE</h3>
                            </div>
                            <div class="bg-gradient-to-r from-green-500 to-teal-500 text-white px-3 py-2 rounded-xl transform hover:scale-105 transition-all duration-300 ${overallPercentage >= 85 ? 'gold-glow' : ''}" style="animation: ${overallPercentage >= 85 ? 'celebration 2s ease-in-out infinite' : 'wiggle 2s ease-in-out infinite'};">
                                <p class="text-lg sm:text-2xl font-extrabold">${overallPercentage}%</p>
                                <p class="text-xs sm:text-sm font-bold mt-1 capitalize">${performanceLevel}</p>
                            </div>
                        </div>
                        
                        <!-- Decorative circles -->
                        <div class="absolute -top-1 -right-1 w-5 h-5 bg-green-300 rounded-full opacity-40" style="animation: float 4s ease-in-out infinite;"></div>
                        <div class="absolute -bottom-1 -left-1 w-3 h-3 bg-teal-300 rounded-full opacity-40 animate-bounce"></div>
                    </div>
                    
                    <div class="relative overflow-hidden rounded-2xl transform hover:scale-105 transition-all duration-500" style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 50%, #6c5ce7 100%); padding: 3px; box-shadow: 0 10px 25px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,255,255,0.2); animation: slideIn 0.8s ease-out; animation-delay: 0.4s;">
                        
                        <!-- Floating Elements -->
                        <div class="absolute top-1 left-1 text-lg animate-bounce" style="animation-delay: 0.6s;">ğŸ¥‡</div>
                        <div class="absolute top-1 right-1 text-sm animate-bounce" style="animation-delay: 1.1s;">ğŸ’«</div>
                        <div class="absolute bottom-1 left-1 text-sm animate-bounce" style="animation-delay: 1.6s;">ğŸ¯</div>
                        
                        <div class="bg-white rounded-xl p-3 sm:p-4 text-center relative z-10 shadow-inner">
                            <div class="mb-2">
                                <div class="text-xl sm:text-2xl animate-bounce mb-1" style="animation-delay: 0.7s;">${rankEmoji}</div>
                                <h3 class="text-sm sm:text-lg font-bold text-blue-700 mb-2" style="animation: float 3s ease-in-out infinite;">CLASS RANK</h3>
                            </div>
                            <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-xl transform hover:scale-105 transition-all duration-300 ${rank <= 3 ? 'trophy-bounce' : ''}" style="animation: ${rank <= 3 ? 'celebration 2s ease-in-out infinite' : 'pulse 2s ease-in-out infinite'};">
                                <p class="text-lg sm:text-2xl font-extrabold">#${rank}</p>
                                <p class="text-xs sm:text-sm font-bold mt-1">${rank === 1 ? 'First Place!' : rank <= 3 ? 'Top 3!' : rank <= 5 ? 'Top 5!' : 'Keep Going!'}</p>
                            </div>
                        </div>
                        
                        <!-- Decorative circles -->
                        <div class="absolute -top-1 -left-1 w-4 h-4 bg-blue-300 rounded-full opacity-40 animate-pulse"></div>
                        <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-purple-300 rounded-full opacity-40" style="animation: float 5s ease-in-out infinite reverse;"></div>
                    </div>
                `;

                // Display simplified inspirational quote with only highlighted text
                const inspirationalQuote = getInspirationalQuote(parseFloat(overallPercentage), rank);
                document.getElementById('inspirationalQuote').innerHTML = `
                    <div class="mb-2 relative">
                        <!-- Animated Title -->
                        <div class="text-center relative">
                            <h3 class="relative text-sm sm:text-lg font-bold mb-2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; animation: wiggle 3s ease-in-out infinite;">
                                ${inspirationalQuote.emoji} WORDS OF INSPIRATION ${inspirationalQuote.emoji}
                            </h3>
                        </div>
                    </div>
                    
                    <!-- Simplified Quote Container -->
                    <div class="relative overflow-hidden rounded-lg" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2px;">
                        
                        <!-- Main Quote Content -->
                        <div class="bg-white rounded-md p-3 sm:p-4 shadow-lg relative z-10">
                            
                            <!-- Only the Main Highlighted Text -->
                            <div class="text-center">
                                <div class="text-xl sm:text-2xl mb-2 animate-bounce">${inspirationalQuote.emoji}</div>
                                
                                <!-- Main Inspirational Quote - Larger Font -->
                                <p class="text-base sm:text-lg md:text-xl font-bold leading-relaxed" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; line-height: 1.4;">
                                    ${inspirationalQuote.quote}
                                </p>
                            </div>
                        </div>
                    </div>
                `;

                // Apply celebration effects for high achievers (85%+)
                applyCelebrationStyles(parseFloat(overallPercentage));

                // Report card already shown above

            } catch (error) {
                console.error('Error displaying report card:', error);
                showMessage('âŒ Error loading report card!', 'error');
            }
        }

        // Calculate Rank
        async function calculateRank(classNum, currentPercentage) {
            try {
                const studentsSnapshot = await db.ref(`students/class${classNum}`).once('value');
                const students = studentsSnapshot.val();
                
                if (!students) return 1;

                const studentPercentages = [];
                
                // Calculate percentage for each student in the class
                for (const studentId of Object.keys(students)) {
                    const marksSnapshot = await db.ref(`marks/class${classNum}/${studentId}`).once('value');
                    const marksData = marksSnapshot.val();
                    
                    if (marksData) {
                        let totalObtained = 0;
                        let totalMaximum = 0;
                        
                        Object.values(marksData).forEach(marks => {
                            if (marks.obtained !== 'Absent') {
                                totalObtained += marks.obtained;
                            }
                            totalMaximum += marks.maximum;
                        });
                        
                        const studentPercentage = totalMaximum > 0 ? (totalObtained / totalMaximum) * 100 : 0;
                        studentPercentages.push({
                            studentId: studentId,
                            percentage: studentPercentage
                        });
                    }
                }
                
                // Sort students by percentage in descending order (highest first)
                studentPercentages.sort((a, b) => b.percentage - a.percentage);
                
                // Find rank based on percentage
                let rank = 1;
                for (let i = 0; i < studentPercentages.length; i++) {
                    if (studentPercentages[i].percentage > currentPercentage) {
                        rank = i + 2; // +2 because rank starts from 1 and we want position after this student
                    } else if (studentPercentages[i].percentage === currentPercentage) {
                        rank = i + 1; // Same percentage gets same rank
                        break;
                    } else {
                        break; // Current percentage is higher than this student
                    }
                }
                
                return Math.min(rank, studentPercentages.length);
                
            } catch (error) {
                console.error('Error calculating rank:', error);
                return 1;
            }
        }

        // Admin - Class Selection
        elements.adminClassSelect.addEventListener('change', async () => {
            const classNum = elements.adminClassSelect.value;
            elements.adminStudentSelect.innerHTML = '<option value="">Select Student</option><option value="new">â• Add New Student</option>';
            elements.adminStudentSelect.disabled = true;
            elements.deleteStudentBtn.disabled = true;
            clearForm();

            if (classNum) {
                try {
                    const snapshot = await db.ref(`students/class${classNum}`).once('value');
                    const students = snapshot.val();
                    
                    // Enable all form elements when class is selected
                    elements.adminStudentSelect.disabled = false;
                    elements.studentName.disabled = false;
                    elements.fatherName.disabled = false;
                    elements.addSubjectBtn.disabled = false;
                    elements.saveStudentBtn.disabled = false;
                    
                    // Update placeholders
                    elements.studentName.placeholder = "Enter student name";
                    elements.fatherName.placeholder = "Enter father's name";
                    
                    // Enable subjects container
                    elements.subjectsContainer.style.opacity = '1';
                    elements.subjectsContainer.style.pointerEvents = 'auto';
                    
                    if (students) {
                        Object.keys(students).forEach(studentId => {
                            const option = document.createElement('option');
                            option.value = studentId;
                            option.textContent = students[studentId].name;
                            elements.adminStudentSelect.appendChild(option);
                        });
                    }
                    
                    // Add default subjects if no subjects exist
                    if (elements.subjectsContainer.children.length === 0) {
                        addDefaultSubjects();
                    }
                } catch (error) {
                    console.error('Error loading students:', error);
                    showMessage('âŒ Error loading students', 'error');
                }
            } else {
                // Disable all form elements when no class is selected
                elements.studentName.disabled = true;
                elements.fatherName.disabled = true;
                elements.addSubjectBtn.disabled = true;
                elements.saveStudentBtn.disabled = true;
                
                // Update placeholders
                elements.studentName.placeholder = "First select a class to enable editing";
                elements.fatherName.placeholder = "First select a class to enable editing";
                
                // Disable subjects container
                elements.subjectsContainer.style.opacity = '0.5';
                elements.subjectsContainer.style.pointerEvents = 'none';
            }
        });

        // Admin - Student Selection
        elements.adminStudentSelect.addEventListener('change', async () => {
            const selectedValue = elements.adminStudentSelect.value;
            const classNum = elements.adminClassSelect.value;
            
            elements.deleteStudentBtn.disabled = !selectedValue || selectedValue === 'new';
            
            if (selectedValue === 'new') {
                clearForm();
                currentStudentId = null;
            } else if (selectedValue && classNum) {
                await loadStudentData(classNum, selectedValue);
            }
        });

        // Load Student Data
        async function loadStudentData(classNum, studentId) {
            try {
                const [studentSnapshot, marksSnapshot] = await Promise.all([
                    db.ref(`students/class${classNum}/${studentId}`).once('value'),
                    db.ref(`marks/class${classNum}/${studentId}`).once('value')
                ]);
                
                const studentData = studentSnapshot.val();
                const marksData = marksSnapshot.val();
                
                currentStudentId = studentId;
                
                // Populate student info
                elements.studentName.value = studentData.name || '';
                elements.fatherName.value = studentData.fatherName || '';
                
                // Clear and populate subjects
                elements.subjectsContainer.innerHTML = '';
                subjectCount = 0;
                
                if (marksData) {
                    // First add default subjects if they exist in data
                    const defaultSubjects = ['Hindi', 'English', 'Mathematics'];
                    defaultSubjects.forEach(subject => {
                        if (marksData[subject]) {
                            const marks = marksData[subject];
                            addSubjectRow(subject, marks.obtained, marks.maximum);
                        } else {
                            addSubjectRow(subject, '', '100');
                        }
                    });
                    
                    // Then add any additional subjects
                    Object.keys(marksData).forEach(subject => {
                        if (!defaultSubjects.includes(subject)) {
                            const marks = marksData[subject];
                            addSubjectRow(subject, marks.obtained, marks.maximum);
                        }
                    });
                } else {
                    addDefaultSubjects(); // Add default subjects
                }
                
            } catch (error) {
                console.error('Error loading student data:', error);
                showMessage('âŒ Error loading student data', 'error');
            }
        }

        // Clear Form
        function clearForm() {
            elements.studentName.value = '';
            elements.fatherName.value = '';
            elements.subjectsContainer.innerHTML = '';
            subjectCount = 0;
            currentStudentId = null;
            
            // Only add subjects if class is selected
            if (!elements.adminClassSelect.value) {
                // If no class selected, don't add any subjects
                return;
            }
            
            // Add default subjects when clearing form
            addDefaultSubjects();
        }

        // Add Subject Row (Simplified Layout)
        function addSubjectRow(subjectName = '', obtained = '', maximum = '') {
            subjectCount++;
            const row = document.createElement('div');
            row.className = 'subject-row mb-3 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border-2 border-blue-200 transform hover:scale-102 transition-all duration-300';
            row.innerHTML = `
                <!-- Single Row Layout -->
                <div class="flex flex-col sm:flex-row items-center gap-3 sm:gap-4">
                    
                    <!-- Subject Number -->
                    <div class="flex items-center">
                        <span class="text-xl mr-2">ğŸ“š</span>
                        <span class="text-sm font-bold text-purple-700 whitespace-nowrap">
                            Subject ${subjectCount}:
                        </span>
                    </div>
                    
                    <!-- Subject Name Field (Larger) -->
                    <div class="flex-1 min-w-0 sm:min-w-[200px]">
                        <input type="text" class="subject-name w-full p-3 border-2 border-blue-300 rounded-lg focus:border-blue-500 focus:outline-none text-base font-semibold transition-all duration-300" 
                               placeholder="Subject name..." 
                               value="${subjectName}">
                    </div>
                    
                    <!-- Obtained Marks Field -->
                    <div class="w-20 sm:w-24">
                        <input type="text" class="obtained-marks w-full p-3 border-2 border-green-300 rounded-lg focus:border-green-500 focus:outline-none text-base font-semibold transition-all duration-300 text-center" 
                               placeholder="Got" 
                               value="${obtained}">
                    </div>
                    
                    <!-- Slash Separator -->
                    <div class="text-xl font-bold text-gray-500">/</div>
                    
                    <!-- Maximum Marks Field -->
                    <div class="w-20 sm:w-24">
                        <input type="number" class="max-marks w-full p-3 border-2 border-orange-300 rounded-lg focus:border-orange-500 focus:outline-none text-base font-semibold transition-all duration-300 text-center" 
                               placeholder="Max" 
                               min="1" 
                               max="1000"
                               value="${maximum}">
                    </div>
                    
                    <!-- Remove Button -->
                    <button type="button" class="remove-subject bg-red-500 hover:bg-red-600 text-white font-bold p-2 rounded-lg transform hover:scale-105 transition-all duration-300 shadow-lg flex items-center justify-center" ${subjectCount <= 3 ? 'style="display:none"' : ''}>
                        <span class="text-sm">ğŸ—‘ï¸</span>
                    </button>
                </div>
                
                <!-- Helper Text -->
                <div class="mt-2 text-center">
                    <small class="text-xs text-gray-600 font-medium">
                        ğŸ’¡ Type "Absent" in obtained marks if student was absent
                    </small>
                </div>
            `;
            
            elements.subjectsContainer.appendChild(row);
            
            // Add remove functionality
            row.querySelector('.remove-subject').addEventListener('click', () => {
                // Add removal animation
                row.style.transform = 'scale(0.8)';
                row.style.opacity = '0';
                setTimeout(() => {
                    row.remove();
                    subjectCount--;
                    updateRemoveButtons();
                    updateSubjectNumbers();
                }, 300);
            });
            
            updateRemoveButtons();
            updateSubjectNumbers();
        }

        // Update Remove Buttons Visibility
        function updateRemoveButtons() {
            const removeButtons = document.querySelectorAll('.remove-subject');
            removeButtons.forEach((btn, index) => {
                // Only show remove button for subjects beyond the first 3 (Hindi, English, Mathematics)
                btn.style.display = (index >= 3) ? 'flex' : 'none';
            });
        }

        // Update Subject Numbers
        function updateSubjectNumbers() {
            const subjectRows = document.querySelectorAll('.subject-row');
            subjectRows.forEach((row, index) => {
                const header = row.querySelector('span.text-sm');
                if (header) {
                    header.innerHTML = `Subject ${index + 1}:`;
                }
            });
        }

        // Add Default Subjects Function
        function addDefaultSubjects() {
            // Clear existing subjects
            elements.subjectsContainer.innerHTML = '';
            subjectCount = 0;
            
            // Add the three default subjects
            addSubjectRow('Hindi', '', '100');
            addSubjectRow('English', '', '100');
            addSubjectRow('Mathematics', '', '100');
        }

        // Add Subject Button
        elements.addSubjectBtn.addEventListener('click', () => {
            addSubjectRow();
        });

        // Delete Student (Enhanced to handle both demo and user-input students)
        elements.deleteStudentBtn.addEventListener('click', async () => {
            const selectedValue = elements.adminStudentSelect.value;
            const classNum = elements.adminClassSelect.value;
            
            if (!selectedValue || selectedValue === 'new' || !classNum) {
                showMessage('âŒ Please select a student to delete!', 'error');
                return;
            }
            
            const studentName = elements.adminStudentSelect.selectedOptions[0].textContent;
            
            // Enhanced confirmation dialog with more details
            const confirmMessage = `âš ï¸ DELETE CONFIRMATION âš ï¸\n\n` +
                                 `Student: ${studentName}\n` +
                                 `Class: ${classNum}\n\n` +
                                 `This will permanently delete:\n` +
                                 `â€¢ Student information\n` +
                                 `â€¢ All subject marks\n` +
                                 `â€¢ Report card data\n\n` +
                                 `This action CANNOT be undone!\n\n` +
                                 `Are you absolutely sure you want to proceed?`;
            
            if (confirm(confirmMessage)) {
                try {
                    // Show loading message
                    showMessage('ğŸ”„ Deleting student data...', 'info');
                    
                    // Delete from both locations to ensure complete removal
                    await Promise.all([
                        db.ref(`students/class${classNum}/${selectedValue}`).remove(),
                        db.ref(`marks/class${classNum}/${selectedValue}`).remove()
                    ]);
                    
                    showMessage(`âœ… ${studentName} has been completely deleted from Class ${classNum}!`);
                    
                    // Clear form and refresh student list
                    clearForm();
                    elements.adminStudentSelect.value = '';
                    elements.deleteStudentBtn.disabled = true;
                    
                    // Refresh student list
                    elements.adminClassSelect.dispatchEvent(new Event('change'));
                    
                } catch (error) {
                    console.error('Error deleting student:', error);
                    showMessage(`âŒ Failed to delete ${studentName}! Please try again.`, 'error');
                }
            }
        });

        // Save Student
        elements.saveStudentBtn.addEventListener('click', async () => {
            const classNum = elements.adminClassSelect.value;
            const studentName = elements.studentName.value.trim();
            const fatherName = elements.fatherName.value.trim();
            
            if (!classNum) {
                showMessage('âŒ Please select a class!', 'error');
                return;
            }
            
            if (!studentName || !fatherName) {
                showMessage('âŒ Please fill in student name and father\'s name!', 'error');
                return;
            }
            
            // Collect subjects data
            const subjectRows = document.querySelectorAll('.subject-row');
            const subjects = {};
            let hasValidSubject = false;
            
            subjectRows.forEach(row => {
                const subjectName = row.querySelector('.subject-name').value.trim();
                const obtainedValue = row.querySelector('.obtained-marks').value.trim();
                const maxMarks = parseInt(row.querySelector('.max-marks').value);
                
                if (subjectName && obtainedValue && !isNaN(maxMarks) && maxMarks > 0) {
                    // Check if student was absent
                    if (obtainedValue.toLowerCase() === 'absent') {
                        subjects[subjectName] = {
                            obtained: 'Absent',
                            maximum: maxMarks
                        };
                    } else {
                        const obtainedMarks = parseInt(obtainedValue);
                        if (!isNaN(obtainedMarks)) {
                            subjects[subjectName] = {
                                obtained: obtainedMarks,
                                maximum: maxMarks
                            };
                        }
                    }
                    hasValidSubject = true;
                }
            });
            
            if (!hasValidSubject) {
                showMessage('âŒ Please add at least one complete subject with valid marks!', 'error');
                return;
            }
            
            try {
                const studentId = currentStudentId || generateStudentId(studentName);
                
                // Save student data
                await db.ref(`students/class${classNum}/${studentId}`).set({
                    name: studentName,
                    fatherName: fatherName
                });
                
                // Save marks data
                await db.ref(`marks/class${classNum}/${studentId}`).set(subjects);
                
                const action = currentStudentId ? 'updated' : 'saved';
                showMessage(`âœ… ${studentName} ${action} successfully!`);
                
                // Refresh student list
                elements.adminClassSelect.dispatchEvent(new Event('change'));
                
            } catch (error) {
                console.error('Error saving student:', error);
                showMessage('âŒ Error saving student data!', 'error');
            }
        });

        // Initialize with sample data on first load
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Smart Report Card System initialized');
            
            // Check if database is empty and auto-restore sample data in background (non-blocking)
            setTimeout(async () => {
                try {
                    const studentsSnapshot = await db.ref('students').once('value');
                    if (!studentsSnapshot.exists()) {
                        console.log('Database is empty, restoring sample data...');
                        await restoreSampleData();
                    }
                } catch (error) {
                    console.error('Error checking database:', error);
                }
            }, 100);
        });
    </script>

    <!-- Developer Credit Marquee at Bottom -->
    <div class="fixed bottom-0 left-0 right-0 z-50 overflow-hidden" style="background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #f5576c, #4facfe, #00f2fe); background-size: 400% 400%; animation: rainbow 3s ease infinite; border-top: 4px solid #ffffff; box-shadow: 0 -10px 30px rgba(0,0,0,0.3);">
        
        <!-- Animated Background Elements -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute -top-2 left-10 w-8 h-8 bg-white rounded-full opacity-20 animate-bounce"></div>
            <div class="absolute -top-1 right-20 w-6 h-6 bg-yellow-300 rounded-full opacity-30 animate-pulse"></div>
            <div class="absolute -top-3 left-1/3 w-4 h-4 bg-pink-300 rounded-full opacity-25" style="animation: float 4s ease-in-out infinite;"></div>
            <div class="absolute -top-2 right-1/3 w-5 h-5 bg-blue-300 rounded-full opacity-20" style="animation: float 3s ease-in-out infinite reverse;"></div>
        </div>
        
        <!-- Main Marquee Container -->
        <div class="relative py-3 sm:py-4 overflow-hidden">
            <div class="marquee-container">
                <div class="whitespace-nowrap animate-marquee">
                    
                    <!-- Sparkle Effects -->
                    <span class="inline-block text-2xl sm:text-3xl animate-bounce mr-4" style="animation-delay: 0s;">âœ¨</span>
                    <span class="inline-block text-xl sm:text-2xl animate-bounce mr-2" style="animation-delay: 0.2s;">ğŸŒŸ</span>
                    <span class="inline-block text-lg sm:text-xl animate-bounce mr-4" style="animation-delay: 0.4s;">ğŸ’«</span>
                    
                    <!-- Main Welcome Text -->
                    <span class="text-lg sm:text-2xl md:text-3xl lg:text-4xl font-display text-white mr-8 relative" style="text-shadow: 3px 3px 6px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.8); letter-spacing: 3px; animation: pulse 2s ease-in-out infinite;">
                        ğŸŒŸâœ¨ Welcome to Primary School Karanpur , The place where students Learn with JOY !! âœ¨ğŸŒŸ
                    </span>
                    
                    <!-- More Sparkle Effects -->
                    <span class="inline-block text-2xl sm:text-3xl animate-bounce mr-4" style="animation-delay: 0.6s;">â­</span>
                    <span class="inline-block text-xl sm:text-2xl animate-bounce mr-2" style="animation-delay: 0.8s;">ğŸ¯</span>
                    <span class="inline-block text-lg sm:text-xl animate-bounce mr-4" style="animation-delay: 1s;">ğŸ†</span>
                    
                    <!-- Repeated Text for Continuous Effect -->
                    <span class="text-lg sm:text-2xl md:text-3xl lg:text-4xl font-display text-white mr-8 relative" style="text-shadow: 3px 3px 6px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.8); letter-spacing: 3px; animation: wiggle 3s ease-in-out infinite;">
                        ğŸ“šğŸ’« At what time it will be available to put more message ğŸ’«ğŸ“š
                    </span>
                    
                    <!-- Final Sparkle Effects -->
                    <span class="inline-block text-2xl sm:text-3xl animate-bounce mr-4" style="animation-delay: 1.2s;">ğŸŒˆ</span>
                    <span class="inline-block text-xl sm:text-2xl animate-bounce mr-2" style="animation-delay: 1.4s;">ğŸ’</span>
                    <span class="inline-block text-lg sm:text-xl animate-bounce mr-8" style="animation-delay: 1.6s;">ğŸ¨</span>
                    
                    <!-- Third Repetition -->
                    <span class="text-lg sm:text-2xl md:text-3xl lg:text-4xl font-display text-white mr-8 relative" style="text-shadow: 3px 3px 6px rgba(0,0,0,0.5), 0 0 20px rgba(255,255,255,0.8); letter-spacing: 3px; animation: bounce 2s ease-in-out infinite;">
                        ğŸ“ğŸŒˆ Hi Hello Please Ready Hi ğŸŒˆğŸ“
                    </span>
                    
                </div>
            </div>
        </div>
        
        <!-- Decorative Border Animation -->
        <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-400 via-pink-400 to-purple-400" style="animation: pulse 1.5s ease-in-out infinite;"></div>
        
        <!-- Floating Elements -->
        <div class="absolute top-1 left-4 text-lg text-white opacity-60 animate-bounce" style="animation-delay: 0.3s;">ğŸ’»</div>
        <div class="absolute top-2 right-8 text-sm text-white opacity-50 animate-bounce" style="animation-delay: 0.7s;">ğŸš€</div>
        <div class="absolute top-1 left-1/2 text-base text-white opacity-40 animate-bounce" style="animation-delay: 1.1s;">âš¡</div>
        
    </div>

    <!-- Add bottom padding to main content to prevent overlap with fixed marquee -->
    <style>
        body {
            padding-bottom: 60px; /* Adjust based on marquee height */
        }
        
        @media (min-width: 640px) {
            body {
                padding-bottom: 80px;
            }
        }
        
        /* Enhanced marquee animation for smoother effect */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .animate-marquee {
            animation: marquee 25s linear infinite;
        }
        
        /* Pause animation on hover for better readability */
        .marquee-container:hover .animate-marquee {
            animation-play-state: paused;
        }
        
        /* Glowing text effect for developer credit */
        .developer-glow {
            text-shadow: 
                0 0 5px rgba(255,255,255,0.8),
                0 0 10px rgba(255,255,255,0.6),
                0 0 15px rgba(255,255,255,0.4),
                0 0 20px rgba(102, 126, 234, 0.8),
                0 0 35px rgba(102, 126, 234, 0.6),
                0 0 40px rgba(102, 126, 234, 0.4);
        }
        
        /* Mobile responsiveness for marquee */
        @media (max-width: 640px) {
            .animate-marquee {
                animation-duration: 8s;
            }
            
            body {
                padding-bottom: 70px;
            }
        }
        
        /* Tablet responsiveness */
        @media (min-width: 641px) and (max-width: 1024px) {
            .animate-marquee {
                animation-duration: 8s;
            }
        }
        
        /* Desktop enhancement */
        @media (min-width: 1025px) {
            .animate-marquee {
                animation-duration: 8s;
            }
            
            body {
                padding-bottom: 90px;
            }
        }
    </style>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96c438d4470b5983',t:'MTc1NDcxMDcyMS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
